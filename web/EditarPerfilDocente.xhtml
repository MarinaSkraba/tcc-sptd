<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Edição de perfil</title>
        <link rel="stylesheet" type="text/css" href="css/css.css"/>
        <h:outputStylesheet name="webjars/font-awesome/4.4.0/css/font-awesome.css"/>
    </h:head>

    <script>
        PrimeFaces.locales['pt'] = {
            closeText: 'Fechar',
            prevText: 'Anterior',
            nextText: 'Próximo',
            currentText: 'Começo',
            monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
            monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
            dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
            dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
            dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
            weekHeader: 'Semana',
            firstDay: 0,
            isRTL: false,
            showMonthAfterYear: false,
            yearSuffix: '',
            timeOnlyTitle: 'Só Horas',
            timeText: 'Tempo',
            hourText: 'Hora',
            minuteText: 'Minuto',
            secondText: 'Segundo',
            ampm: false,
            month: 'Mês',
            week: 'Semana',
            day: 'Dia',
            allDayText: 'Todo o Dia'
        };
    </script>

    <h:body styleClass="body">

        <!-- Barra de menu -->
        <div id="barraMenu">
            <font face="Calibri" 
                  size="6" 
                  color="white" 
                  style="margin: 10px 10px; float:left; font-family: calibri, sans-serif; font-weight: 500;" styleClass="text">
                SPTD
            </font>

            <h:form id="barraMenu">

                <p:commandButton styleClass="opMenu"
                                 iconPos="right"
                                 icon="/img/Search/searchLarger_24.png"
                                 value="Voltar"
                                 action="/PerfilDocente"
                                 ajax="false"
                                 style="float: left;"/>

                <p:commandButton id="logout"
                                 image="img/fundo_login.png" 
                                 styleClass="imgLogado"/>

                <!-- Informações e Logout -->
                <p:overlayPanel id="Usuário" 
                                for="logout" 
                                hideEffect="fade" 
                                style="padding: 0px;">
                    <h:outputText value="#{usuarioMB.usuarioLogado.email}" 
                                  styleClass="text01"
                                  style="color: #1785ad; font-weight: normal; font-size: large; margin: 0px;"/>
                    <br/>
                    <p:commandButton value="Sair"
                                     styleClass="opVermelhaMenu"
                                     style="margin: 0px;"
                                     ajax="false" 
                                     immediate="true"
                                     actionListener="#{usuarioMB.realizarLogout()}"
                                     action="/Login?faces-redirect=true"/>
                </p:overlayPanel>

                <h:outputText value="#{usuarioMB.usuarioLogado.nomeCompleto}" 
                              styleClass="text01"
                              style="color: white; float: right; font-weight: normal; font-size: large;"/>

                <!-- Temporizador verificar possibilidade Edição -->
                <p:poll interval="5" listener="#{professorMB.verificarErrosAtualizacao()}"/>

            </h:form>
        </div>

        <!-- Conteúdo da Tela -->
        <font face="Calibri" 
              size="6" 
              color="#A8A8A8" 
              style="margin: 20px; font-weight: 100;" 
              styleClass="text">
            Editar Perfil
        </font>

        <div id="screen">

            <h:form style="width: 100%;">
                <center>
                    <div id="content" style="width: 50%; border-radius: 15px; border-top-style: solid; border-top-width: medium; border-top-color: #1785ad;">

                        <h:outputText value="Informações Gerais" 
                                      styleClass="text01" />
                        <hr size="1px" style="color: #1785ad; width: 90%; opacity: 0.5; margin: 0; float: bottom;"/>
                        <br/>
                        <h:panelGrid columns="2">
                            <h:outputText value="Nome completo: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:inputText value="#{professorMB.professorSelecionado.nomeCompleto}"
                                         style="margin: 5px; font-size: large;"
                                         styleClass="text01"/>
                            <h:outputText value="Email: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:inputText value="#{professorMB.professorSelecionado.email}"
                                         style="margin: 5px; font-size: large;"
                                         styleClass="text01"/>
                            <h:outputText value="Senha: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:password value="#{professorMB.professorSelecionado.senhaAlfanumerica}"
                                        style="margin: 5px; font-size: large;"
                                        styleClass="text01"/>
                            <h:outputText value="Confirmação senha: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:password value="#{professorMB.confirmacaoSenhaSelecionada}"
                                        style="margin: 5px; font-size: large;"
                                        styleClass="text01"/>
                        </h:panelGrid>
                        <br/>
                        <h:outputText value="Perfil Docente" 
                                      styleClass="text01" />
                        <hr size="1px" style="color: #1785ad; width: 90%; opacity: 0.5; margin: 0; float: bottom;"/>
                        <br/>
                        <h:panelGrid columns="2">
                            <h:outputText value="Matrícula SIAPE: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:inputText value="#{professorMB.professorSelecionado.matriculaSIAPE}"
                                         style="margin: 5px; font-size: large;"
                                         styleClass="text01"/>
                            <h:outputText value="Regime de trabalho: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:selectOneRadio value="#{professorMB.professorSelecionado.regimeTrabalho}" 
                                              style="font-size: large;"
                                              styleClass="text01"
                                              layout="grid" 
                                              columns="1">
                                <f:selectItem itemLabel=" Dedicação Exclusiva" 
                                              itemValue="Dedicação Exclusiva" />
                                <f:selectItem itemLabel=" 40 horas" 
                                              itemValue="40h" />
                                <f:selectItem itemLabel=" 20 horas" 
                                              itemValue="20h" />
                            </p:selectOneRadio>
                            <h:outputText value="Tipo de contrato: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:selectOneRadio value="#{professorMB.professorSelecionado.tipoContrato}" 
                                              layout="grid" columns="1"
                                              style="font-size: large;"
                                              styleClass="text01">
                                <f:selectItem itemLabel=" Efetivo" 
                                              itemValue="Efetivo" />
                                <f:selectItem itemLabel=" Temporário" 
                                              itemValue="Temporario" />
                            </p:selectOneRadio>
                            <h:outputText value="Data de contratação: "
                                          styleClass="text01"
                                          style="font-size: large; float: right;"/>
                            <p:calendar value="#{professorMB.professorSelecionado.dataContratacao}" 
                                        mode="popup" 
                                        locale="pt"
                                        size="17"/>
                        </h:panelGrid>
                        <br/>

                        <p:commandButton styleClass="botaoAzul" 
                                         style="border-radius: 30px; font-size: large; margin-left: 10px;" 
                                         value="Alterar"
                                         onclick="PF('#{professorMB.verificarPossibilidadeAtualizacao()}').show();"/>

                    </div>
                </center>

                <!-- Caixa de confirmação de edição -->
                <p:dialog header="Confirmar cadastro" 
                          widgetVar="confirmarEdicaoDocenteDialog" 
                          modal="true" 
                          showEffect="fade" 
                          hideEffect="fade" 
                          resizable="false">

                    <h:outputText value="Você realmente deseja alterar essas informações?" 
                                  styleClass="text01"
                                  style="margin: 10px 25px -10px 25px; font-size: large; width: 400px;"/>
                    <br/>

                    <p:commandButton styleClass="botaoAzul" 
                                     value="Confirmar"
                                     ajax="false"
                                     action="#{professorMB.alterarProfessor()}"/>

                </p:dialog>

                <!-- Caixa de aviso de erro -->
                <p:dialog header="Confirmar cadastro" 
                          widgetVar="erroEdicaoDocenteDialog" 
                          modal="true" 
                          showEffect="fade" 
                          hideEffect="fade" 
                          resizable="false">

                    <h:outputText value="O cadastro ainda não pode ser concluído por causa dos seguintes " 
                                  styleClass="text01"
                                  style="margin: 10px 25px -10px 25px; font-size: large; width: 400px;"/>
                    <br/>

                    <h:dataTable  value="#{professorMB.errosCadastroProfessor}" 
                                  var="erroEdicao" 
                                  style="width: auto;"
                                  headerClass="text-center"
                                  footerClass="text-center">

                        <h:column>
                            <f:facet name="header">

                            </f:facet>
                            <h:outputText value="#{erroEdicao}" 
                                          styleClass="text01"
                                          style="font-size: large; color: #C92345; width: 400px;"/>
                        </h:column>
                    </h:dataTable>

                    <br/>

                    <p:commandButton styleClass="botaoAzul" 
                                     value="Confirmar"
                                     ajax="false"
                                     action="#{professorMB.alterarProfessor()}"/>
/>

                </p:dialog>

            </h:form>

        </div>

    </h:body>
</html>