<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Tela Inicial</title>
        <link rel="stylesheet" type="text/css" href="css/css.css"/>
        <h:outputStylesheet name="webjars/font-awesome/4.4.0/css/font-awesome.css"/>
    </h:head>
    <h:body styleClass="body">

        <!-- Barra de menu -->
        <div id="barraMenu">
            <font face="Calibri" 
                  size="6" 
                  color="white" 
                  style="margin: 10px 10px; float:left; font-family: calibri, sans-serif; font-weight: 500;" styleClass="text">
                SPTD
            </font>

            <h:form id="barraMenu">

                <p:commandButton styleClass="opMenu"
                                 iconPos="right"
                                 icon="/img/Search/searchLarger_24.png"
                                 value="Notificações"
                                 ajax="false"
                                 style="float: left;"/>

                <p:commandButton id="logout"
                                 image="img/fundo_login.png" 
                                 styleClass="imgLogado"/>

                <!-- Informações e Logout -->
                <p:overlayPanel id="Usuário" 
                                for="logout" 
                                hideEffect="fade" 
                                style="padding: 0px;">
                    <h:outputText value="#{usuarioMB.usuarioLogado.email}" 
                                  styleClass="text01"
                                  style="color: #1785ad; font-weight: normal; font-size: large;"/>
                    <br/>
                    <!-- Link para acesso ao perfil -->
                    <p:commandLink style="width: 200px; margin: 5px;"
                                   styleClass="link"
                                   >
                        <h:outputText value="Meu perfil"  
                                      styleClass="text01"
                                      style="color: #1AB5D9; font-size: large;"/>
                    </p:commandLink>
                    <br/>
                    <p:commandButton value="Sair"
                                     styleClass="opVermelhaMenu"
                                     ajax="false" 
                                     immediate="true"
                                     actionListener="#{usuarioMB.realizarLogout()}"
                                     action="/Login?faces-redirect=true"/>
                </p:overlayPanel>

                <h:outputText value="#{usuarioMB.usuarioLogado.nomeCompleto}" 
                              styleClass="text01"
                              style="color: white; float: right; font-weight: normal; font-size: large;"/>

                <p:commandButton id="cursoButton"
                                 styleClass="opMenu"
                                 icon="/img/Search/searchLarger_24.png"
                                 value="Gerenciar Cursos"/>

                <!-- Caixa de "novo" PTD -->
                <p:overlayPanel id="cursoPanel" 
                                for="cursoButton" 
                                hideEffect="fade" 
                                style="padding: 0px;">
                    <p:commandButton value="Adicionar curso"
                                     styleClass="opMenu"
                                     onclick="PF('addCursoDialog').show();"/>
                    <br/>
                    <p:commandButton value="Editar cursos"
                                     styleClass="opMenu"
                                     onclick="PF('edtCursoDialog').show();"/>
                </p:overlayPanel>

                <!-- Caixa para adicionar curso -->
                <p:dialog header="Adicionar um Curso" 
                          widgetVar="addCursoDialog" 
                          modal="true"                              
                          showEffect="fade" 
                          hideEffect="fade" 
                          resizable="false"
                          >

                    <h:outputText value="NOME CURSO" 
                                  styleClass="text01"
                                  style="margin: 10px 25px -10px 25px;"/>
                    <br/>

                    <p:inputText value="#{cursoMB.curso.nomeCurso}"/>

                    <br/>
                    <p:commandButton value="Salvar" 
                                     styleClass="botaoAzul"/>

                </p:dialog>

                <!-- Caixa para editar cursos -->
                <p:dialog header="Editar Cursos" 
                          widgetVar="edtCursoDialog" 
                          modal="true" 
                          showEffect="fade" 
                          hideEffect="fade" 
                          resizable="false">

                    <h:dataTable  value="#{cursoMB.cursos}" 
                                  var="curso" 
                                  style="width: 100%;"
                                  headerClass="text-center"
                                  footerClass="text-center">

                        <f:facet name="header">
                            <h:outputText value="" />
                        </f:facet>

                        <h:column>

                            <f:facet name="header">
                                <h:outputText value="NOME CURSO" 
                                              styleClass="text01"/>
                            </f:facet>
                            <p:inputText value="#{curso.nomeCurso}"/>

                        </h:column>

                        <h:column>

                            <f:facet name="header">
                                <h:outputText value="" 
                                              styleClass="text01"
                                              style="font-size: large; font-weight: bold;"/>
                            </f:facet>

                            <p:commandButton styleClass="botaoCinza" 
                                             style="float: left; font-size: 12pt;" 
                                             value="X" 
                                             ajax="false" 
                                             immediate="true"/>

                        </h:column>

                    </h:dataTable>

                    <br/>
                    <p:commandButton value="Salvar edição" 
                                     styleClass="botaoAzul"/>

                </p:dialog>

                <p:commandButton styleClass="opMenu"
                                 icon="/img/Search/searchLarger_24.png"
                                 value="Pesquisa"
                                 action="/pesquisa"/>

            </h:form>
        </div>

        <!-- Conteúdo da Tela -->
        <font face="Calibri" 
              size="6" 
              color="#A8A8A8" 
              style="margin: 10px; font-weight: 100;" 
              styleClass="text">
            Notificações
        </font>

        <div id="screen">

            <div id="content" style="width: 70%;">
                <br/>
                <h:form>

                    <h:dataTable  value="#{pTDMB.ptdsEmAvaliacao}" 
                                  var="ptdEsperando"
                                  style="border-spacing: 0pt; width: 100%;"
                                  headerClass="text-center"
                                  footerClass="text-center">
                        <f:facet name="header">
                            <h:panelGrid columns="3" 
                                         style="width:100%" >

                                <h:outputText value="Professor" 
                                              styleClass="text01"
                                              style="font-size: large; font-weight: bold;"/>
                                <h:outputText value="Status" 
                                              styleClass="text01"
                                              style="font-size: large; font-weight: bold;"/>
                                <h:outputText value="Opções" 
                                              styleClass="text01"
                                              style="font-size: large; font-weight: bold;"/>

                            </h:panelGrid>
                        </f:facet>

                        <h:column>
                            <f:facet name="header">
                                <hr size="1px" style="color: #A8A8A8; width: 100%; opacity: 0.5; margin: 0; float: bottom;"/>
                            </f:facet>

                            <div id="linha">
                                <h:panelGrid columns="3" 
                                             style="width:100%;" >

                                    <p:commandLink action="#{pTDMB.abrirPTDEmAvaliacao(ptdEsperando)}" 
                                                   title="Ver PTD" 
                                                   ajax="false" 
                                                   immediate="true"
                                                   style="width: 200px;"
                                                   styleClass="link">
                                        <h:outputText value="#{ptdEsperando.professor.nomeCompleto}"  
                                                      styleClass="text01"
                                                      style="color: #1AB5D9; font-size: large;"/>
                                    </p:commandLink>
                                    <h:outputText value="#{pTDMB.verificacaoIrregularidadesNotificacoesDiretorEnsino(ptdEsperando)}"  
                                                  styleClass="text01"
                                                  style="font-size: large; width: 200px;"/>
                                    <p:commandButton styleClass="botaoAzul" 
                                                     style="margin: 5px 0px 5px; float: left;" 
                                                     value="Abrir PTD"
                                                     ajax="false" 
                                                     immediate="true"
                                                     action="#{pTDMB.abrirPTDEmAvaliacao(ptdEsperando)}"/>

                                </h:panelGrid>
                            </div>
                            <hr size="1px" style="color: #A8A8A8; width: 100%; opacity: 0.5; margin: 0; float: bottom;"/>

                        </h:column>

                    </h:dataTable>



                </h:form>
                <br/>
            </div>

        </div>

    </h:body>
</html>

